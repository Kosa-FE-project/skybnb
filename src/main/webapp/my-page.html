<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Page</title>
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="./css/reset.css" />
    <link rel="stylesheet" href="./css/mypage.css">
    <!-- slick Ïä§ÌÉÄÏùº CDN -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js" defer></script>
  <style>
  .emoji-particle {
    position: fixed;
    top: 0;
    font-size: 12px;
    animation: fall 3s linear forwards;
    pointer-events: none;
    z-index: 9999;
  }

  @keyframes fall {
    to {
      transform: translateY(60vh);
      opacity: 0;
    }
  }
</style>

<script defer>
  window.onload = function () {
    const emojis = ['‚ù§Ô∏è', 'ü©∑', 'üíñ', 'üß°', 'üíö','ü©µ'];

    const interval = setInterval(() => {
      for (let i = 0; i < 5; i++) {
        const emoji = document.createElement('span');
        emoji.className = 'emoji-particle';
        emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
        emoji.style.left = Math.random() * 100 + 'vw';
        emoji.style.fontSize = (Math.random() * 6 + 12) + 'px';
        document.body.appendChild(emoji);

        // ÏÇ≠Ï†ú
        setTimeout(() => emoji.remove(), 3000);
      }
    }, 50);

    setTimeout(() => {
      clearInterval(interval);
    }, 3000);
  };
</script>
</head>
<body>
    <header class="header">
      <h1 class="logo"><img src="./img/logo_green.svg" /></h1>
      <img class="header-icon" src="./img/mypage-icon2.svg" alt="icon" />
    </header>
    <div class="layout">
        <div class="sidebar">
            <div class="profile"><img src="./img/mypage/mypage_profile.png"></div>
            <h5>Sophia Jung</h5>
            <p style="font-size: small; color: #3A3A3A;">tasd@gmail.com</p>
            <ul style="list-style:none; padding:0; text-align: center;">
                <li><a href="./user-home.html" style="text-decoration: none; color:#3A3A3A;">üè† Home</a></li>
                <li>üìä Analysis</li>
                <li>üí≥ Payment</li>
                <li>‚öôÔ∏è Settings</li>
            </ul>
        </div>
    </div>
     <div class="main-content">
            <h1>Hello, Sophia</h1>
            <h4>Enjoy your trip ü•∞</h4>
            <div class="grade">
                <div class="section your-grade">
                    <div class="grade-tab">Your Grade</div>
                  <div class="grade-content">
                    <div class="grade-wrap">
                        <p class="grade-msg">üéâ Congratulation!</p>
                        <p class="grade-sub">Your grade is <strong class="grade-gold">GOLD :)</strong></p>
                        <div class="grade-row">
                            <div class="grade-display">
                                <span class="grade-text">GOLD</span>
                                <span class="grade-badge"><img src="./img/mypage/mypage_mark.svg"></span>
                            </div>
                            <div class="grade-graph">
                                <div class="bar bronze"><span>&lt; 1</span></div>
                                <div class="bar silver"><span>&lt; 5</span></div>
                                <div class="bar gold"><span>&lt; 10</span></div>
                            </div>
                        </div>
                    </div>
                  </div>
                </div>
            </div>
            <div class="wishlist">
                <div class="section your-wishlist">
                 <div class="wish-tab">Wish List</div>
                    <div class="wish-content">
                        <div class="wish-wrap">
                            <div class="card-list">
                                <div class="card"><img src="./img/mypage/mypage-wishroom1.png" name="RoomA">
                                <button class="heart"><img src="./img/mypage/mypage_jjim.svg"></button>
                                </div>
                                <div class="card"><img src="./img/mypage/mypage_wishroom2.png" name="RoomB">
                                <button class="heart"><img src="./img/mypage/mypage_jjim.svg"></button>
                                </div>
                                <div class="card"><img src="./img/mypage/mypage_wishroom3.png" name="RoomC">
                                <button class="heart"><img src="./img/mypage/mypage_jjim.svg"></button>
                                </div>
                                <div class="card"><img src="./img/mypage/mypage_wishroom4.jpeg" name="RoomD">
                                <button class="heart"><img src="./img/mypage/mypage_jjim.svg"></button>
                                </div>
                                <div class="card"><img src="./img/mypage/mypage_wishroom5.jpeg" name="Airal">
                                <button class="heart"><img src="./img/mypage/mypage_jjim.svg"></button>
                                </div>
                                <div class="card"><img src="./img/mypage/mypage_wishroom6.jpeg" name="Snowwhite">
                                <button class="heart"><img src="./img/mypage/mypage_jjim.svg"></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="reservation">
            <div class="section your-reservation">
            <div class="reservation-tab">Your Reservation</div>
            <div class="reservation-row">
                <div class="reservation-content">
                    <div class="reservation-wrap">
                        <label>
                        <span>Location</span>
                        <input type="text" value="Paris Guesthouse" readonly />
                        </label>
                        <label>
                        <span>Room type</span>
                        <input type="text" id="roomtype" value="Room A" readonly />
                        </label>
                        <label>
                        <span>Reservation person</span>
                        <input type="text" id="name" value="Sophia Jung" readonly />
                        </label>
                        <label>
                        <span>Number of people</span>
                        <input type="text" id="peoplenum" value="adult 2" readonly />
                        </label>
                        <div class="reservation-checkdate">
                            <label class="checkin">
                            <span>Check in</span>
                            <input type="text" id="checkindate" value="2025.09.13" readonly />
                            </label>
                            <label class="checkout">
                            <span>Check out</span>
                            <input type="text" id="checkoutdate" value="2025.09.25" readonly />
                            </label>
                        </div>
                    </div>
                </div>
                <div class="reservation-image">
                    <img src="./img/mypage/mypage_reRoom.png" alt="Reserved room" />
                </div>
              </div>
              </div>
              </div>
        </div>
        <!-- Ìë∏ÌÑ∞ -->
             <footer class="footer">
                <div class="footer-content">
                    <div class="footer-logo">
                        <!-- <img src="Î°úÍ≥†" alt="logo" /> -->
                        <span>üó∫Ô∏è skyB&B.</span>
                    </div>

                    <div class="footer-contact">
                    <h3>Contact us</h3>
                    <ul>
                        <li>
                        <strong>So yuna</strong><br />
                        <a href="mailto:seacrab808@naver.com">seacrab808@naver.com</a>
                        </li>
                        <li>
                        <strong>Lee</strong><br />
                        <a href="mailto:dalbogi5@gmail.com">dalbogi5@gmail.com</a>
                        </li>
                        <li>
                        <strong>Kang</strong><br />
                        <a href="mailto:alsrlwpdhkd@gmail.com">alsrlwpdhkd@gmail.com</a>
                        </li>
                    </ul>
                    </div>
                </div>

                <hr />
                <div class="footer-bottom">
                    <p>¬© 2025 ÌïúÍµ≠ÏÜåÌîÑÌä∏Ïõ®Ïñ¥ÏÇ∞ÏóÖÌòëÌöå. All rights reserved.</p>
                </div>
            </footer>

</body>
<script>

  $('.logo').on('click',function(){
		 window.location.href = "./index.html";
	 })

$(function(){
	const ls = JSON.parse(localStorage.getItem('reservationData'));
	if (ls) {
		$('#roomtype').val(ls.roomtype);
	    $('#name').val(ls.username);
	    $('#checkindate').val(ls.checkindate);
	    $('#checkoutdate').val(ls.checkoutdate);
	    $('#peoplenum').val(ls.peoplenum);
	}
});
document.querySelectorAll('.card').forEach(card => {
  const img = card.querySelector('img');
  const name = img.getAttribute('name') || '';

  const overlay = document.createElement('div');
  overlay.className = 'overlay';
  overlay.textContent = name;

  card.appendChild(overlay);
});

$(document).ready(function(){
  $('.card-list').slick({
    slidesToShow: 3,
    slidesToScroll: 1,
    autoplay: true,
    autoplaySpeed: 2000,
    prevArrow: '<button type="button" class="prev-btn" aria-label="Previous slide"><</button>',
    nextArrow: '<button type="button" class="next-btn" aria-label="Next slide">></button>'
  });
});

document.querySelectorAll('.heart').forEach(btn => {
  btn.addEventListener('click', () => {
    const img = btn.querySelector('img');
    const isLiked = img.getAttribute('src').includes('mypage_jjim');

    if (isLiked) {
      img.setAttribute('src', './img/mypage/mypage_deljjim.svg');
      
      const card = btn.closest('.card');
      card.remove(); 
    } 
  });
});


window.addEventListener('scroll',()=>{
    const sidebar=document.querySelector('.sidebar');
    const footer=document.querySelector('.footer');

    const sidebarHeight=sidebar.offsetHeight;
    const scrollY=window.scrollY;
    const sidebarTop=sidebar.offsetTop;
    const footerTop=footer.offsetTop;

    if(scrollY+sidebarHeight+100>footerTop){
      sidebar.classList.add('stop');
      sidebar.style.top=(footerTop-sidebarHeight-100)+'px';
    }else {
      sidebar.classList.remove('stop');
      sidebar.style.top = '200px';
    }
});


 </script>
</html>